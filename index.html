<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portal Educacional</title>

<style>
body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#eef2f7}
header{display:flex;align-items:center;gap:15px;padding:15px 25px;background:linear-gradient(90deg,#0d47a1,#1976d2);color:white;flex-wrap:wrap}
.logo{height:80px}
nav{background:#1565c0;display:flex;justify-content:center;flex-wrap:wrap}
nav a{color:white;padding:14px 18px;text-decoration:none;font-weight:bold;cursor:pointer}
nav a:hover{background:#0d47a1}
.container{max-width:1100px;margin:30px auto;padding:20px;background:white;border-radius:8px;box-shadow:0 4px 10px rgba(0,0,0,0.1)}
.hidden{display:none}
.admin-btn{position:fixed;right:0;top:120px;background:#0d47a1;color:white;padding:10px;border-radius:8px 0 0 8px;cursor:pointer;font-weight:bold}
.admin-panel{display:none;position:fixed;right:0;top:0;width:360px;height:100%;background:white;box-shadow:-2px 0 10px rgba(0,0,0,0.2);padding:15px;overflow:auto;z-index:999}
.admin-panel input,.admin-panel textarea,.admin-panel select{width:100%;margin:5px 0;padding:6px}
.admin-panel button{width:100%;margin:5px 0;padding:8px;border:none;background:#1976d2;color:white;border-radius:5px;cursor:pointer}
.question,.conteudo{margin-bottom:20px;padding:15px;border:1px solid #ddd;border-radius:6px}
.option{display:flex;align-items:center;margin:6px 0}
.option input{margin-right:8px;transform:scale(1.2)}
footer{text-align:center;padding:15px;background:#0d47a1;color:white;margin-top:40px}
</style>
</head>
<body>

<header>
<img src="LOGO_DA_ESCOLA.png" class="logo">
<h1>Escola Municipal Professora Paula Aliomar Ribeiro Beltrão</h1>
</header>

<nav>
<a onclick="showSection('inicio')">Início</a>
<a onclick="showSection('conteudos')">Conteúdos</a>
<a onclick="showSection('atividades')">Atividades</a>
<a onclick="showSection('simulados')">Simulados</a>
<a onclick="showSection('resultados')">Resultados</a>
</nav>

<div class="container" id="inicio">
<h2 style="text-align:center">Bem-vindo ao Portal Educacional</h2>
</div>

<!-- CONTEÚDOS -->
<div class="container hidden" id="conteudos">
<h2>Conteúdos</h2>
<select id="serieCont"></select>
<select id="disciplinaCont"></select>
<button onclick="carregarConteudos()">Carregar Conteúdos</button>
<div id="listaConteudos"></div>
</div>

<!-- ATIVIDADES -->
<div class="container hidden" id="atividades">
<h2>Atividades</h2>
<select id="serieAtv"></select>
<select id="disciplinaAtv"></select>
<select id="qtdAtv">
<option value="10">10 Questões</option>
<option value="20">20 Questões</option>
<option value="50">50 Questões</option>
</select>
<button onclick="carregarAtividades()">Carregar</button>
<div id="listaAtividades"></div>
</div>

<!-- SIMULADOS -->
<div class="container hidden" id="simulados">
<h2>Simulados</h2>
<select id="serieSim"></select>
<select id="disciplinaSim"></select>
<select id="qtdSim">
<option value="10">10 Questões</option>
<option value="20">20 Questões</option>
<option value="50">50 Questões</option>
</select>
<input type="text" id="nomeAluno" placeholder="Nome do aluno">
<button onclick="carregarSimulado()">Iniciar</button>
<div id="areaSimulado"></div>
</div>

<!-- RESULTADOS -->
<div class="container hidden" id="resultados">
<h2>Resultados</h2>
<div id="relatorios"></div>
</div>

<div class="admin-btn" onclick="abrirAdmin()">ADMIN</div>

<!-- PAINEL ADMIN -->
<div class="admin-panel" id="adminPanel">
<h3>CRIAR CONTEÚDO</h3>
<input type="text" id="tituloConteudo" placeholder="Título do conteúdo">
<textarea id="textoConteudo" placeholder="Texto / explicação"></textarea>
<input type="file" id="imagemConteudo">
<select id="serieConteudo"></select>
<select id="disciplinaConteudo"></select>
<button onclick="salvarConteudo()">Salvar Conteúdo</button>

<hr>

<h3>CRIAR QUESTÃO</h3>
<input type="text" id="pergunta" placeholder="Pergunta">
<textarea id="textoQuestao" placeholder="Texto complementar"></textarea>
<input type="file" id="imagemQuestao">
<input type="text" id="altA" placeholder="Alternativa A">
<input type="text" id="altB" placeholder="Alternativa B">
<input type="text" id="altC" placeholder="Alternativa C">
<input type="text" id="altD" placeholder="Alternativa D">
<select id="correta">
<option value="A">Correta: A</option>
<option value="B">Correta: B</option>
<option value="C">Correta: C</option>
<option value="D">Correta: D</option>
</select>
<select id="serieQuestao"></select>
<select id="disciplinaQuestao"></select>
<select id="tipoQuestao">
<option>Atividade</option>
<option>Simulado</option>
</select>
<button onclick="salvarQuestao()">Salvar Questão</button>

<button onclick="fecharAdmin()">Fechar</button>
</div>

<footer>Portal Educacional © 2026</footer>

<script>
const series=["Educação Infantil 1º Período","Educação Infantil 2º Período","1º Ano","2º Ano","3º Ano","4º Ano","5º Ano","6º Ano","7º Ano","8º Ano","9º Ano"];
const disciplinas=["Língua Portuguesa","Matemática","História","Geografia","Ciências","Inglês","Artes","Religião","Educação Física"];

function preencher(id,lista){let s=document.getElementById(id);lista.forEach(v=>s.innerHTML+=`<option>${v}</option>`)}
["serieAtv","serieSim","serieQuestao","serieCont","serieConteudo"].forEach(id=>preencher(id,series))
["disciplinaAtv","disciplinaSim","disciplinaQuestao","disciplinaCont","disciplinaConteudo"].forEach(id=>preencher(id,disciplinas))

let bancoQuestoes=JSON.parse(localStorage.getItem('questoes'))||[];
let bancoConteudos=JSON.parse(localStorage.getItem('conteudos'))||[];
let resultados=JSON.parse(localStorage.getItem('resultados'))||[];

function showSection(id){document.querySelectorAll('.container').forEach(c=>c.classList.add('hidden'));document.getElementById(id).classList.remove('hidden')}
function abrirAdmin(){if(prompt("Senha do administrador")==="professor123"){adminPanel.style.display="block"}else alert("Senha incorreta")}
function fecharAdmin(){adminPanel.style.display="none"}

function salvarConteudo(){
let reader=new FileReader();let file=imagemConteudo.files[0];
reader.onload=function(){
bancoConteudos.push({titulo:tituloConteudo.value,texto:textoConteudo.value,imagem:reader.result,serie:serieConteudo.value,disciplina:disciplinaConteudo.value});
localStorage.setItem("conteudos",JSON.stringify(bancoConteudos));alert("Conteúdo salvo!");
};
if(file){reader.readAsDataURL(file)}else{reader.onload()}
}

function carregarConteudos(){
listaConteudos.innerHTML="";
bancoConteudos.filter(c=>c.serie===serieCont.value && c.disciplina===disciplinaCont.value)
.forEach(c=>{
listaConteudos.innerHTML+=`<div class='conteudo'><h3>${c.titulo}</h3><p>${c.texto}</p>${c.imagem?`<img src='${c.imagem}' width='200'>`:''}</div>`
})
}

function salvarQuestao(){
let reader=new FileReader();let file=imagemQuestao.files[0];
reader.onload=function(){
bancoQuestoes.push({pergunta:pergunta.value,texto:textoQuestao.value,imagem:reader.result,A:altA.value,B:altB.value,C:altC.value,D:altD.value,correta:correta.value,serie:serieQuestao.value,disciplina:disciplinaQuestao.value,tipo:tipoQuestao.value});
localStorage.setItem("questoes",JSON.stringify(bancoQuestoes));alert("Questão salva!")
};
if(file){reader.readAsDataURL(file)}else{reader.onload()}
}

function montar(lista,destino,qtd){
destino.innerHTML='';
lista.slice(0,qtd).forEach((q,i)=>{
destino.innerHTML+=`<div class='question'><p><b>${i+1}. ${q.pergunta}</b></p><p>${q.texto||""}</p>${q.imagem?`<img src='${q.imagem}' width='150'>`:''}
<label class="option"><input type="radio" name="q${i}" value="A"> A) ${q.A}</label>
<label class="option"><input type="radio" name="q${i}" value="B"> B) ${q.B}</label>
<label class="option"><input type="radio" name="q${i}" value="C"> C) ${q.C}</label>
<label class="option"><input type="radio" name="q${i}" value="D"> D) ${q.D}</label></div>`
});
destino.innerHTML+=`<button onclick="corrigir('${destino.id}')">Finalizar</button>`
}

function carregarAtividades(){
let lista=bancoQuestoes.filter(q=>q.tipo==="Atividade"&&q.serie===serieAtv.value&&q.disciplina===disciplinaAtv.value);
montar(lista,listaAtividades,qtdAtv.value)
}

function carregarSimulado(){
let lista=bancoQuestoes.filter(q=>q.tipo==="Simulado"&&q.serie===serieSim.value&&q.disciplina===disciplinaSim.value);
montar(lista,areaSimulado,qtdSim.value)
}

function corrigir(area){
let div=document.getElementById(area);let marcadas=div.querySelectorAll("input[type=radio]:checked");let acertos=0;
marcadas.forEach((r,i)=>{if(r.value===bancoQuestoes[i].correta)acertos++});
let erros=div.querySelectorAll(".question").length-acertos;
resultados.push({aluno:nomeAluno.value||"Aluno",acertos,erros});
localStorage.setItem("resultados",JSON.stringify(resultados));
alert(`Resultado: ${acertos} acertos e ${erros} erros`);
mostrarRelatorios();showSection("resultados")
}

function mostrarRelatorios(){relatorios.innerHTML='';resultados.forEach(r=>relatorios.innerHTML+=`<p>${r.aluno} → ✅ ${r.acertos} | ❌ ${r.erros}</p>`)}
mostrarRelatorios();
</script>

</body>
</html>

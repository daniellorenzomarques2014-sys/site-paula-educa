<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portal Educacional</title>

<style>
body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#eef3f9}
header{
    display:flex;
    align-items:center;
    gap:15px;
    padding:15px 25px;
    background:linear-gradient(90deg,#0d47a1,#1565c0);
    color:white
}
.logo{height:80px}
h1{font-size:20px;margin:0}

nav{
    background:#0d47a1;
    display:flex;
    justify-content:center;
    flex-wrap:wrap
}
nav a{
    color:white;
    padding:14px 18px;
    text-decoration:none;
    font-weight:bold;
    cursor:pointer
}
nav a:hover{background:#08306b}

.container{
    max-width:1100px;
    margin:25px auto;
    padding:20px;
    background:white;
    border-radius:8px;
    box-shadow:0 4px 10px rgba(0,0,0,0.1)
}
.hidden{display:none}

.admin-btn{
    position:fixed;
    right:15px;
    top:70px;
    background:#ff9800;
    color:white;
    padding:10px 14px;
    border-radius:6px;
    cursor:pointer;
    font-weight:bold
}

input,select,textarea{
    width:100%;
    padding:8px;
    margin:6px 0;
    border-radius:4px;
    border:1px solid #ccc
}

button{
    padding:8px 12px;
    margin-top:8px;
    border:none;
    border-radius:4px;
    background:#1565c0;
    color:white;
    cursor:pointer
}
button:hover{opacity:0.9}

.question{
    border:1px solid #ddd;
    padding:10px;
    border-radius:6px;
    margin-bottom:15px
}

/* ALTERNATIVAS ESTILO PROVA */
.alternativa{
    display:flex;
    align-items:center;
    gap:6px;
    margin:3px 0;
    font-size:15px
}
.alternativa input[type=radio]{
    width:auto;
    margin:0
}

footer{
    text-align:center;
    padding:15px;
    background:#0d47a1;
    color:white;
    margin-top:40px
}
</style>
</head>
<body>

<header>
<img src="LOGO_DA_ESCOLA.png" class="logo">
<h1>Escola Municipal Professora Paula Aliomar Ribeiro Beltrão</h1>
</header>

<nav>
<a onclick="showSection('inicio')">Início</a>
<a onclick="showSection('conteudos')">Conteúdos</a>
<a onclick="showSection('atividades')">Atividades</a>
<a onclick="showSection('simulados')">Simulados</a>
<a onclick="showSection('resultados')">Resultados</a>
</nav>

<div class="admin-btn" onclick="abrirAdmin()">ADMIN</div>

<!-- INÍCIO -->
<div class="container" id="inicio">
<h2 style="text-align:center">Bem-vindo ao Portal Educacional</h2>
<p style="text-align:center">Ambiente digital de aprendizagem da escola.</p>
</div>

<!-- CONTEÚDOS -->
<div class="container hidden" id="conteudos">
<h2>Conteúdos</h2>
<div id="listaConteudos"></div>
</div>

<!-- ATIVIDADES -->
<div class="container hidden" id="atividades">
<h2>Atividades</h2>
<div id="listaAtividades"></div>
</div>

<!-- SIMULADOS -->
<div class="container hidden" id="simulados">
<h2>Simulados</h2>
<input type="text" id="nomeAluno" placeholder="Nome do aluno">
<select id="serieAluno"></select>
<button onclick="iniciarSimulado()">Iniciar</button>
<div id="areaSimulado"></div>
</div>

<!-- RESULTADOS -->
<div class="container hidden" id="resultados">
<h2>Resultados</h2>
<div id="relatorios"></div>
</div>

<!-- PAINEL ADMIN -->
<div class="container hidden" id="adminPanel">
<h2>Painel do Professor</h2>

<h3>Cadastrar Conteúdo</h3>
<input type="text" id="tituloConteudo" placeholder="Título">
<input type="file" id="arquivoConteudo">
<button onclick="salvarConteudo()">Salvar Conteúdo</button>

<hr>

<h3>Cadastrar Questão (Atividade/Simulado)</h3>
<input type="text" id="pergunta" placeholder="Pergunta">
<textarea id="textoQuestao" placeholder="Texto da questão"></textarea>
<input type="file" id="imagemQuestao">
<input type="text" id="a" placeholder="Alternativa A">
<input type="text" id="b" placeholder="Alternativa B">
<input type="text" id="c" placeholder="Alternativa C">
<input type="text" id="d" placeholder="Alternativa D">
<select id="correta">
<option value="A">Correta: A</option>
<option value="B">Correta: B</option>
<option value="C">Correta: C</option>
<option value="D">Correta: D</option>
</select>
<button onclick="salvarQuestao()">Salvar Questão</button>
</div>

<footer>Portal Educacional © 2026</footer>

<script>
let conteudos = JSON.parse(localStorage.getItem("conteudos")||"[]");
let questoes = JSON.parse(localStorage.getItem("questoes")||"[]");
let resultados = JSON.parse(localStorage.getItem("resultados")||"[]");

function showSection(id){
document.querySelectorAll(".container").forEach(c=>c.classList.add("hidden"));
document.getElementById(id).classList.remove("hidden");
if(id==="conteudos") listarConteudos();
if(id==="atividades") listarAtividades();
if(id==="resultados") listarResultados();
}

function abrirAdmin(){
let senha=prompt("Senha do administrador:");
if(senha==="1234") showSection("adminPanel");
else alert("Senha incorreta");
}

function salvarConteudo(){
let file=document.getElementById("arquivoConteudo").files[0];
let reader=new FileReader();
reader.onload=function(){
conteudos.push({titulo:tituloConteudo.value,arquivo:reader.result});
localStorage.setItem("conteudos",JSON.stringify(conteudos));
alert("Conteúdo salvo!");
}
reader.readAsDataURL(file);
}

function listarConteudos(){
listaConteudos.innerHTML="";
conteudos.forEach(c=>{
listaConteudos.innerHTML+=`<p><b>${c.titulo}</b> - <a href="${c.arquivo}" target="_blank">Abrir</a></p>`;
});
}

function salvarQuestao(){
let reader=new FileReader();
let file=document.getElementById("imagemQuestao").files[0];
reader.onload=function(){
questoes.push({
pergunta:pergunta.value,
texto:textoQuestao.value,
img:reader.result,
a:a.value,b:b.value,c:c.value,d:d.value,
correta:correta.value
});
localStorage.setItem("questoes",JSON.stringify(questoes));
alert("Questão salva!");
};
if(file) reader.readAsDataURL(file); else reader.onload();
}

function listarAtividades(){
listaAtividades.innerHTML="";
questoes.forEach((q,i)=>{
listaAtividades.innerHTML+=montarQuestao(q,i,"atividade");
});
}

function iniciarSimulado(){
areaSimulado.innerHTML="";
questoes.forEach((q,i)=>{
areaSimulado.innerHTML+=montarQuestao(q,i,"simulado");
});
areaSimulado.innerHTML+="<button onclick='corrigirSimulado()'>Finalizar</button>";
}

function montarQuestao(q,i,tipo){
return `<div class="question">
<p><b>${i+1}. ${q.pergunta}</b></p>
<p>${q.texto||""}</p>
${q.img?`<img src="${q.img}" width="150">`:""}
<label class="alternativa"><input type="radio" name="q${i}" value="A"> A) ${q.a}</label>
<label class="alternativa"><input type="radio" name="q${i}" value="B"> B) ${q.b}</label>
<label class="alternativa"><input type="radio" name="q${i}" value="C"> C) ${q.c}</label>
<label class="alternativa"><input type="radio" name="q${i}" value="D"> D) ${q.d}</label>
</div>`;
}

function corrigirSimulado(){
let acertos=0;
questoes.forEach((q,i)=>{
let marcada=document.querySelector(`input[name=q${i}]:checked`);
if(marcada && marcada.value===q.correta) acertos++;
});
let erros=questoes.length-acertos;
resultados.push({nome:nomeAluno.value,acertos,erros});
localStorage.setItem("resultados",JSON.stringify(resultados));
alert(`Resultado: ${acertos} acertos e ${erros} erros`);
}

function listarResultados(){
relatorios.innerHTML="";
resultados.forEach(r=>{
relatorios.innerHTML+=`<p>${r.nome} → ✅ ${r.acertos} | ❌ ${r.erros}</p>`;
});
}
</script>

</body>
</html>
